generator client {
  provider = "prisma-client-js"
  output = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Log {
  id Int @id @default(autoincrement())

  // Common fields
  type    LogType
  level   String
  message String
  metadata Json?

  // RequestLog-specific fields
  userId    String?
  method     String?
  path       String?
  statusCode Int?
  durationMs Int?
  steps      Json?

  createdAt DateTime @default(now())

  @@index([type])
  @@index([level])
  @@index([userId])
  @@index([createdAt])
}

enum LogType {
  APP
  REQUEST
}
